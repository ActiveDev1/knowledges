---
banner: "![[dora-metrics-banner.png]]"
aliases:
  - Dora Metrics
tags:
  - devops
  - dora
  - metrics
  - 4_key
---
###### چگونه میشه فرآیند توسعه و استقرار را بهبود داد ؟
باید metrics ها را اندازه گیری کرد. هر چیزی که نشه اندازه گیری کرد نمیشه بهبودش داد. پس باید بشه شرایط فعلی را اندازه گیری تا جای بهبودش مشخص شود.

1. **زمان برای تغییرات (Lead Time for Changes)**: 
	 - این معیار زمان لازم برای انتقال یک کامیت از مرحله development به production را اندازه‌گیری می‌کنه. مانند زمان بین merge یک branch develop به master و deploy آن در محیط production.
	 - اگر یک تیم بتونه تغییرات کد در کمتر از چند ساعت از development به محیط production منتقل کند، نشان‌دهنده واکنش سریع و کارایی بالا در فرایندهای development است.
	 - در نظر داشته باشیم که در این فاصله، انتقال کامیت فرآیند های CI مانند build, Test و Deploy در Lead Time صورت گیرد.
	 - به Build Time نیز، معروف است.

2. **فرکانس استقرار (Deployment Frequency)**: 
	 - این معیار تعداد دفعاتی را که یک سازمان به طور موفقیت‌آمیز نرم‌افزار را در production استقرار می‌ده، اندازه‌گیری می‌کنه. به عنوان مثال، اگر یک سازمان هر روز چند بار بتونه به‌روزرسانی‌های جدیدی را به production برسونه، این نشان‌دهنده فرایند development سریع و کارآمد است. 
	   
	 - مقدار Deployment Frequency می‌تواند به سادگی با شمارش تعداد deploy ها در یک دوره مشخص (روزانه، هفتگی، ماهانه) انجام شود. ابزارهایی مانند Jenkins، CircleCI، یا GitLab CI می‌توانند این اندازه‌گیری را با ادغام مستقیم با deployment pipeline ها شما خودکار کنند.
	   
	 - اگرچه برخی deploy ها سبک و ساده هستند، مانند deploy یک صفحه HTML ساده یا طراحی مجدد یک فایل؛ اما پیگیری این deploy ها همچنان ارزشمند است اگر بر محیط production و تجربه کاربر تأثیر بگذارند. حتی تغییرات کوچک نیز می‌توانند تأثیرات قابل توجهی بر performance، usability یا customer satisfaction داشته باشند.
	   
	 - مثال هایی از یک deploy:
		1. استقرار نسخه جدیدی از یک میکروسرویس
		2. به‌روزرسانی یک صفحه وب فرانت‌اند
		3. انتشار یک APK جدید برای یک برنامه اندروید
	- هر یک از این اقدامات، هنگامی که کامل شده و به production منتقل می‌شوند، باید به عنوان یک deploy در نظر گرفته شوند.
	  
	- **Adjusting the Metric for Context**
		- تنظیم یا تغییر دادن معیار مناسب است بر اساس شرایط و زمینه‌ای که در آن قرار دارد، باشد. این به این مفهوم اشاره دارد که برای اینکه معیارها و اندازه‌گیری‌ها معنی‌دارتر و دقیق‌تر باشند، باید با توجه به شرایط خاصی که در آن اعمال می‌شوند، تنظیم شوند.
		  
		- **بررسی وزنی** (**Weighted Tracking**): این یعنی هر چقدر تغییرات بزرگتر و مهم‌تر باشند، بیشتر به حساب می‌آیند. مثلاً اگر یک ویژگی جدید بزرگ به نرم‌افزار اضافه کنید، این مهم‌تر از یک تغییر کوچک در متن یک صفحه وب است. برای تغییرات Major وزن بیشتری به نسبت minor در نظر گرفته می‌شود. 
		- **گزارش‌دهی بخش‌بندی شده** (**Segmented Reporting**): این روش می‌گوید که بهتر است گزارشات را به دسته‌های مختلف تقسیم کنید، مثلاً تغییرات محتوایی را جدا از تغییرات ویژگی‌های جدید گزارش دهید. این کمک می‌کند تا بفهمید چه بخش‌هایی از توسعه و استقرار بیشتر نیاز به توجه دارند.
  
3. **نرخ شکست تغییرات (Change Failure Rate)**:
	- این معیار درصد دفعاتی را که استقرارها باعث خرابی در production می‌شوند، مشخص می‌کند. به عنوان مثال، اگر یک شرکت دارای نرخ شکست 5% باشد، به این معناست که تنها 5 درصد از استقرارها به مشکلاتی در production منجر می‌شوند که نشان‌دهنده ثبات و قابلیت اطمینان بالا در فرایندهای استقرار است.
	- The percentage of deployments causing a failure in production
	  
	- **تغییر نرخ شکست به دو چیز بستگی دارد:** چند مورد deploy انجام شد و چند مورد منجر به شکست در production شد؟ برای بدست آوردن این عدد، به تعداد کل deployها موردنیاز است.
	  
	- **چگونه محاسبه می‌شود؟** با تقسیم تعداد تغییراتی که در سیستم که نیاز به بازگشت دارند بر تعداد کل تغییرات اعمال شده محاسبه می شود.
   ![[change-failure-rate.webp|Image_1: Change Failure Rate]]

4. **زمان بازیابی خدمات (Mean Time to Restore)**:
	- این معیار مدت زمان لازم برای بازگرداندن سرویس به حالت عادی پس از خرابی را اندازه‌گیری می‌کند. به عنوان مثال، اگر تیمی بتواند در کمتر از یک ساعت پس از خرابی، سرویس را به حالت عملیاتی بازگرداند، این نشان‌دهنده توانایی بالا در مدیریت و حل مشکلات فوری است.
	- How long it takes an organization to recover from a failure in production
	  
	- **چگونه محاسبه می‌شود:** برای اندازه‌گیری زمان بازیابی خدمات، باید بدانید که این خرابی چه زمانی ایجاد شده و چه زمانی برطرف شده است.
	  
	- اگر زمان توقف از 5 رخداد در مجموع 30 ساعت باشد، MTTR 6 ساعت است.
	- هدف از اندازه گیری این متریک DORA این است که بفهمیم یک سازمان با چه سرعتی می تواند سرویس را بازیابی کند.
   ![[mean-time-to-restore.webp|Image_2: Mean Time to Restore]]
  
این معیارها به تیم‌ها کمک می‌کنه تا از نظر کیفیت و سرعت در فرایندهای development نرم‌افزار بهبود یابد و با استفاده از بازخوردهای مستمر، فرایندها را بهینه‌سازی کنند.

![[4-key-metrics-monitoring.gif|Image_3: 4 Key metrics monitoring]]