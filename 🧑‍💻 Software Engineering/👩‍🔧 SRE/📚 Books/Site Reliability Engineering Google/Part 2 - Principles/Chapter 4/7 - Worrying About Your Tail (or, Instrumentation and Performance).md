**نگرانی درباره دم توزیع (یا ابزارسازی و عملکرد)**

هنگام ساخت یک سیستم مانیتورینگ از صفر، ممکن است وسوسه شوید که سیستمی را بر اساس **میانگین** یک کمیت طراحی کنید: میانگین تأخیر (latency)، میانگین استفاده از CPU در نودها، یا میانگین پر بودن پایگاه‌های داده. خطر استفاده از میانگین در دو مورد آخر واضح است: CPUها و پایگاه‌های داده ممکن است به‌صورت بسیار نامتوازن استفاده شوند. این موضوع برای تأخیر نیز صدق می‌کند. اگر یک سرویس وب با میانگین تأخیر 100 میلی‌ثانیه در 1000 درخواست در ثانیه اجرا کنید، ممکن است 1% از درخواست‌ها به‌راحتی 5 ثانیه طول بکشد. اگر کاربران شما به چندین سرویس وب وابسته باشند تا صفحه‌شان رندر شود، صدک 99 (99th percentile) یک بک‌اند می‌تواند به‌راحتی به میانگین پاسخ فرانت‌اند تبدیل شود.

ساده‌ترین راه برای تمایز بین میانگین کند و دم بسیار کند درخواست‌ها (tail latency) این است که به‌جای ثبت خود تأخیرها، تعداد درخواست‌ها را در **بازه‌های تأخیر** (مناسب برای رسم هیستوگرام) جمع‌آوری کنید: چه تعداد درخواست در بازه 0 تا 10 میلی‌ثانیه، 10 تا 30 میلی‌ثانیه، 30 تا 100 میلی‌ثانیه، 100 تا 300 میلی‌ثانیه و غیره پردازش شده‌اند؟ توزیع حدود بازه‌های هیستوگرام به‌صورت تقریبی **نمایی** (در این مورد با ضریب تقریبی 3) اغلب روشی آسان برای تجسم توزیع درخواست‌های شماست.

-----------------------------
### معنی دقیق Tail در مانیتورینگ

در زمینه مانیتورینگ، **Tail** (دم) به **درخواست‌های با تأخیر بسیار بالا** در توزیع تأخیرهای یک سیستم اشاره دارد. به عبارت دیگر، این‌ها درخواست‌هایی هستند که در **صدک‌های بالای توزیع** (مثل صدک 99 یا 99.9) قرار دارند و زمان پردازش آن‌ها به‌طور قابل‌توجهی بیشتر از میانگین است. مثلاً، اگر میانگین تأخیر یک سرویس وب 100 میلی‌ثانیه باشد، ممکن است 1% از درخواست‌ها (دم توزیع) 5 ثانیه یا بیشتر طول بکشد. این درخواست‌های کند می‌توانند تجربه کاربر را به شدت تحت تأثیر قرار دهند، به‌ویژه اگر سرویس شما به چندین سرویس دیگر وابسته باشد.