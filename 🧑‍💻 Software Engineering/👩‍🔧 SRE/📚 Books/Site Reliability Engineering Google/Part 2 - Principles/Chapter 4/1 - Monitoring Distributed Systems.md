**اصول و بهترین روش‌های تیم‌های SRE گوگل برای مانیتورینگ و هشدار**

تیم‌های SRE گوگل اصول و روش‌های اساسی برای ساخت سیستم‌های مانیتورینگ و هشدار موفق دارند. این فصل دستورالعمل‌هایی برای تعیین اینکه چه مشکلاتی باید یک انسان را از طریق **پیج** (هشدار فوری) درگیر کند و چگونه با مسائلی که به‌اندازه کافی جدی نیستند تا پیج ایجاد کنند، برخورد شود، ارائه می‌دهد.

### تعاریف
واژگان مشترکی برای بحث درباره همه موضوعات مرتبط با مانیتورینگ وجود ندارد. حتی در گوگل، استفاده از اصطلاحات زیر متفاوت است، اما رایج‌ترین تعابیر در اینجا آورده شده است:

- **مانیتورینگ**:
  - جمع‌آوری، پردازش، تجمیع و نمایش داده‌های کمی بلادرنگ درباره یک سیستم، مانند تعداد و نوع درخواست‌ها، تعداد و نوع خطاها، زمان‌های پردازش، و عمر سرورها.
  
- **مانیتورینگ سفید-جعبه (White-box Monitoring)**:
  - مانیتورینگ مبتنی بر معیارهای ارائه‌شده توسط اجزای داخلی سیستم، مانند لاگ‌ها، رابط‌هایی مثل **Java Virtual Machine Profiling Interface**، یا یک **HTTP handler** که آمار داخلی را منتشر می‌کند.

- **مانیتورینگ سیاه-جعبه (Black-box Monitoring)**:
  - تست رفتار قابل‌مشاهده از بیرون، همان‌طور که یک کاربر آن را می‌بیند.

- **داشبورد**:
  - یک اپلیکیشن (معمولاً مبتنی بر وب) که نمای خلاصه‌ای از معیارهای اصلی یک سرویس ارائه می‌دهد. داشبورد ممکن است شامل فیلترها، انتخاب‌گرها و غیره باشد، اما برای نمایش معیارهای مهم برای کاربرانش از پیش ساخته شده است. همچنین ممکن است اطلاعاتی مثل طول صف تیکت‌ها، لیست باگ‌های با اولویت بالا، مهندس **on-call** فعلی برای یک حوزه مسئولیت، یا **push**های اخیر را نمایش دهد.

- **هشدار (Alert)**:
  - اعلانی که برای خوانده شدن توسط انسان طراحی شده و به سیستمی مانند صف باگ یا تیکت، ایمیل گروهی، یا **پیجر** ارسال می‌شود. این هشدارها به‌ترتیب به‌عنوان **تیکت**، **هشدار ایمیلی**، و **پیج** طبقه‌بندی می‌شوند.

- **علت ریشه‌ای (Root Cause)**:
  - نقصی در یک سیستم نرم‌افزاری یا انسانی که اگر برطرف شود، اطمینان می‌دهد که این رویداد به همان شکل دوباره رخ نخواهد داد. یک حادثه ممکن است چندین علت ریشه‌ای داشته باشد؛ مثلاً ترکیبی از اتوماسیون ناکافی فرآیند، نرم‌افزاری که روی ورودی نادرست کرش کرده، و تست ناکافی اسکریپت مورد استفاده برای تولید پیکربندی. هر یک از این عوامل می‌تواند به‌تنهایی یک علت ریشه‌ای باشد و باید برطرف شود.

- **نود و ماشین (Node and Machine)**:
  - به‌صورت متقابل برای اشاره به یک نمونه از کرنل در حال اجرا در یک سرور فیزیکی، ماشین مجازی، یا کانتینر استفاده می‌شود. ممکن است چندین سرویس قابل‌مانیتورینگ روی یک ماشین وجود داشته باشد. این سرویس‌ها ممکن است:
    - **مرتبط** باشند: مثلاً یک سرور کش و یک وب‌سرور.
    - **غیرمرتبط** اما روی سخت‌افزار مشترک: مثلاً یک مخزن کد و یک سرور اصلی برای سیستم پیکربندی مثل **Puppet** یا **Chef**.

- **Push**:
  - هرگونه تغییر در نرم‌افزار در حال اجرای یک سرویس یا پیکربندی آن.