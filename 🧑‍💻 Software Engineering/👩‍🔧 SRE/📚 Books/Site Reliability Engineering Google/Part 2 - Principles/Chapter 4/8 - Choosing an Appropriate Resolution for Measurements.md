**انتخاب رزولوشن مناسب برای اندازه‌گیری‌ها**

جنبه‌های مختلف یک سیستم باید با سطوح مختلف **دانه‌بندی (granularity)** اندازه‌گیری شوند. برای مثال:

- **مشاهده بار CPU در بازه یک دقیقه**: این کار حتی نمی‌تواند **پیک‌های طولانی‌مدت** را که باعث تأخیرهای بالای دم توزیع (tail latency) می‌شوند، نشان دهد.
- **برای یک سرویس وب با هدف حداکثر 9 ساعت قطعی سالانه (99.9% آپتایم)**: بررسی وضعیت 200 (موفق) بیش از یک یا دو بار در دقیقه احتمالاً بیش از حد است.
- **بررسی پر بودن دیسک سخت برای سرویسی با هدف 99.9% آپتایم**: چک کردن بیش از هر 1 تا 2 دقیقه احتمالاً غیرضروری است.

در تنظیم **دانه‌بندی** اندازه‌گیری‌ها دقت کنید. جمع‌آوری داده‌های بار CPU در هر ثانیه ممکن است اطلاعات جالبی ارائه دهد، اما جمع‌آوری، ذخیره و تحلیل چنین داده‌های پرتکراری می‌تواند بسیار پرهزینه باشد. اگر هدف مانیتورینگ شما نیاز به **رزولوشن بالا** دارد اما **تأخیر بسیار کم** لازم نیست، می‌توانید هزینه‌ها را با **نمونه‌برداری داخلی** در سرور و سپس جمع‌آوری و تجمیع داده‌ها توسط یک سیستم خارجی کاهش دهید. برای مثال، می‌توانید:

1. هر ثانیه میزان استفاده فعلی از CPU را ثبت کنید.
2. با استفاده از بازه‌های 5% دانه‌بندی، هر ثانیه بازه مناسب استفاده از CPU را افزایش دهید.
3. این مقادیر را هر دقیقه تجمیع کنید.

این استراتژی به شما امکان می‌دهد **پیک‌های کوتاه‌مدت CPU** را بدون هزینه بالای جمع‌آوری و نگهداری داده‌ها مشاهده کنید.