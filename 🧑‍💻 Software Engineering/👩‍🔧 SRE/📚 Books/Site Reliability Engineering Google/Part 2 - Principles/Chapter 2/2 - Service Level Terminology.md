**اصطلاحات سطح سرویس**

بسیاری از خوانندگان احتمالاً با مفهوم **SLA** آشنا هستند، اما اصطلاحات **SLI** و **SLO** نیز نیاز به تعریف دقیق دارند، زیرا در استفاده روزمره، **SLA** معانی مختلفی بسته به زمینه پیدا کرده است. برای وضوح، این معانی را از هم جدا می‌کنیم.

### شاخص‌های سطح سرویس (SLI)
یک معیار کمی و دقیق است که جنبه‌ای از سطح سرویس ارائه‌شده را اندازه‌گیری می‌کند. 
- اکثر سرویس‌ها **Request Latency**، مدت زمانی که طول می‌کشد تا به یک درخواست پاسخ داده شود را به‌عنوان یک SLI کلیدی در نظر می‌گیرند. دیگر SLIهای رایج شامل **Error Rate** (اغلب به‌صورت کسری از کل درخواست‌های دریافت‌شده) و **Throughput** (معمولاً به‌صورت درخواست در ثانیه) هستند. این معیارها اغلب **تجمیع** می‌شوند: داده‌های خام در یک بازه زمانی جمع‌آوری شده و سپس به نرخ، میانگین، یا صدک تبدیل می‌شوند.

- در حالت ایده‌آل، SLI باید مستقیماً سطح سرویسی را که مورد توجه است اندازه‌گیری کند، اما گاهی اوقات تنها یک **Proxy** (معیار جانشین) در دسترس است، زیرا معیار مورد نظر ممکن است سخت به‌دست‌آمدنی یا تفسیر آن دشوار باشد. برای مثال، **client-side latency** اغلب معیار مرتبط‌تری برای کاربر است، اما ممکن است فقط بتوان تأخیر را در سمت سرور اندازه‌گیری کرد.

- نوع دیگری از SLI که برای SREها مهم است، **دسترس‌پذیری (availability)** است، یعنی کسری از زمان که سرویس قابل‌استفاده است. این اغلب به‌صورت کسری از درخواست‌های معتبر که با موفقیت انجام می‌شوند تعریف می‌شود، که گاهی به آن **بازده (yield)** می‌گویند. (برای سیستم‌های ذخیره‌سازی داده، **دوام (durability)**—احتمال حفظ داده‌ها در طولانی‌مدت—به همان اندازه مهم است.) اگرچه دسترس‌پذیری 100% غیرممکن است، دسترس‌پذیری نزدیک به 100% اغلب به‌راحتی قابل‌دستیابی است و صنعت معمولاً مقادیر دسترس‌پذیری بالا را با تعداد «نه‌ها» در درصد دسترس‌پذیری بیان می‌کند. برای مثال، دسترس‌پذیری‌های 99% و 99.999% به‌ترتیب به‌عنوان «2 نه» و «5 نه» شناخته می‌شوند، و هدف اعلام‌شده فعلی برای دسترس‌پذیری Google Compute Engine «سه و نیم نه - three and a half nines»—یعنی 99.95% دسترس‌پذیری—است.
### اهداف سطح سرویس (SLO)
 یک مقدار هدف یا محدوده‌ای از مقادیر برای سطح سرویسی است که توسط **SLI** اندازه‌گیری می‌شود. ساختار طبیعی SLO به صورت **SLI ≤ target** یا **lower bound ≤ SLI ≤ upper bound** است.
- **مثال**: برای یک سرویس جست‌وجوی شکسپیر، ممکن است SLO این باشد: "میانگین **latency** درخواست‌های جست‌وجو باید کمتر از 100 میلی‌ثانیه باشد."
- **چالش انتخاب SLO**:
  - همیشه نمی‌توان مقدار آن را آزادانه انتخاب کرد. مثلاً، **QPS** (تعداد درخواست‌ها در ثانیه) به رفتار کاربران بستگی دارد و نمی‌توان برای آن SLO تعیین کرد.
  - اما می‌توان برای **latency** هدف تعیین کرد (مثلاً زیر 100 میلی‌ثانیه)، که ممکن است به طراحی سیستم با رفتارهای کم‌تأخیر یا خرید تجهیزات خاص منجر شود.
  - معیارهای **latency** و **QPS** ممکن است به هم مرتبط باشند: QPS بالاتر اغلب به **latency** بیشتر منجر می‌شود، و سرویس‌ها ممکن است در بارهای بالا دچار **performance cliff** شوند.
- **اهمیت SLO**: تعیین و اعلام SLO به کاربران، انتظارات را درباره عملکرد سرویس مشخص می‌کند. این کار از شکایات بی‌اساس (مثل کندی سرویس) جلوگیری می‌کند. بدون SLO، کاربران ممکن است انتظارات غیرواقعی داشته باشند، که منجر به **over-reliance** (اعتماد بیش‌ازحد به سرویس) یا **under-reliance** (عدم اعتماد به سرویس پایدار) می‌شود.

**مثال: قطعی برنامه‌ریزی‌شده Chubby**
- **Chubby** یک سرویس قفل توزیع‌شده گوگل است که نمونه‌های آن در مناطق جغرافیایی مختلف قرار دارند. در گذشته، قطعی‌های **global Chubby** باعث **outage**های قابل‌توجه برای کاربران می‌شد. چون **Chubby** بسیار قابل‌اعتماد بود، تیم‌های سرویس به اشتباه فرض می‌کردند که هرگز قطع نمی‌شود و وابستگی‌های غیرمنطقی به آن ایجاد کردند.
- **راه‌حل SRE**: اطمینان از اینکه **Chubby** از **SLO** خود فراتر نمی‌رود. اگر در یک فصل قطعی واقعی رخ ندهد که **availability** را زیر هدف بیاورد، SRE یک **outage کنترل‌شده** ایجاد می‌کند تا وابستگی‌های غیرمنطقی شناسایی و رفع شوند. این کار مالکان سرویس‌ها را وادار می‌کند تا واقعیت سیستم‌های توزیع‌شده را زودتر بپذیرند.

### توافق‌نامه‌های سطح سرویس (SLA)
یک قرارداد صریح یا ضمنی با کاربران است که شامل **SLO**ها و پیامدهای دستیابی (یا عدم دستیابی) به آن‌ها می‌شود. 
- **پیامدها**: معمولاً مالی هستند (مثل تخفیف یا جریمه)، اما می‌توانند شکل دیگری داشته باشند.
- **تفاوت SLO و SLA**: اگر عدم دستیابی به SLO پیامد مشخصی نداشته باشد، معمولاً فقط یک SLO است.
- تیم SRE معمولاً در ساخت **SLA** دخیل نیست، زیرا SLA به تصمیمات کسب‌وکاری و محصول مرتبط است. اما SRE در تعریف **SLI**ها (برای اندازه‌گیری عینی SLOها) و جلوگیری از نقض SLOها نقش دارد.

**مثال**:
- **Google Search**: SLA عمومی ندارد، زیرا هدف آن استفاده روان و کارآمد برای همه است. اما قطعی‌ها می‌توانند به اعتبار گوگل یا درآمد تبلیغاتی آسیب بزنند.
- **Google for Work**: SLA صریح با کاربران دارد که پیامدهای نقض SLOها (مثل جریمه) را مشخص می‌کند.

تعریف **SLI** و **SLO** برای هر سرویسی (چه با SLA یا بدون آن) ارزشمند است، زیرا به مدیریت بهتر سرویس کمک می‌کند.

- **SLI و SLO/SLA:**
    
    SLI ها اجزای کلیدی اهداف سطح خدمات (SLOs) و توافق‌نامه‌های سطح خدمات (SLAs) هستند. SLO ها اهدافی هستند که برای یک SLI تعیین می‌شوند (مثلاً رسیدن به 99.9% در دسترس بودن)، و SLA ها توافق‌نامه‌هایی هستند که بین ارائه دهنده خدمات و مشتری در مورد سطوح خدمات و عواقب عدم رعایت آنها وجود دارند.

--------------
عنوان Google Workspace ابتدا در سال 2006 با نام Gmail for Your Domain معرفی شد، سپس به Google Apps for Your Domain، Google Apps for Work و G Suite تغییر نام یافت. در اکتبر 2020، گوگل این مجموعه را به Google Workspace تغییر نام داد تا بر یکپارچگی و تجربه کاربری بهتر تأکید کند.