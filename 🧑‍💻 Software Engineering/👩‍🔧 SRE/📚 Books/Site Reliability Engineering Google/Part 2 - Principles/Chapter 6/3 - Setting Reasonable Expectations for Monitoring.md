**تنظیم انتظارات معقول برای مانیتورینگ**

مانیتورینگ یک اپلیکیشن پیچیده خود یک پروژه مهندسی قابل‌توجه است. حتی با وجود زیرساخت‌های گسترده برای ابزارسازی، جمع‌آوری داده، نمایش، و هشدار، یک تیم SRE گوگل با 10 تا 12 عضو معمولاً یک یا گاهی دو نفر را به‌طور اختصاصی برای ساخت و نگهداری سیستم‌های مانیتورینگ سرویس خود اختصاص می‌دهد. این تعداد با متمرکز کردن زیرساخت‌های مانیتورینگ مشترک کاهش یافته، اما هر تیم SRE معمولاً حداقل یک نفر را به‌عنوان **"متخصص مانیتورینگ"** دارد. با این حال، تیم‌های SRE از موقعیت‌هایی که نیاز به **"خیره شدن به صفحه برای تشخیص مشکلات"** باشد، به‌دقت اجتناب می‌کنند، هرچند دسترسی به داشبوردهای نمودار ترافیک می‌تواند جذاب باشد.

به‌طور کلی، گوگل به سمت سیستم‌های مانیتورینگ **ساده‌تر و سریع‌تر** با ابزارهای بهتر برای **تحلیل پس‌رویدادی** حرکت کرده است. ما از سیستم‌های "جادویی" که سعی در یادگیری خودکار آستانه‌ها یا تشخیص خودکار علیت دارند، اجتناب می‌کنیم. یک استثنا، قوانینی است که تغییرات غیرمنتظره در نرخ درخواست‌های کاربران را تشخیص می‌دهند؛ این قوانین ساده نگه داشته می‌شوند و برای شناسایی سریع یک ناهنجاری ساده، خاص و شدید طراحی شده‌اند. کاربردهای دیگر داده‌های مانیتورینگ، مانند **برنامه‌ریزی ظرفیت** و **پیش‌بینی ترافیک**، می‌توانند شکنندگی بیشتری تحمل کنند و بنابراین پیچیدگی بیشتری داشته باشند. آزمایش‌های مشاهده‌ای با افق زمانی طولانی (ماه‌ها یا سال‌ها) و نرخ نمونه‌برداری پایین (ساعتی یا روزانه) نیز معمولاً می‌توانند شکنندگی بیشتری تحمل کنند، زیرا نمونه‌های ازدست‌رفته گاه‌به‌گاه روندهای بلندمدت را پنهان نمی‌کنند.

تجربه گوگل در استفاده از **سلسله‌مراتب وابستگی پیچیده** موفقیت محدودی داشته است. ما به‌ندرت از قوانینی مانند "اگر دیتابیس کند است، برای کندی دیتابیس هشدار بده؛ در غیر این صورت، برای کندی کلی وب‌سایت هشدار بده" استفاده می‌کنیم. قوانین وابسته به وابستگی معمولاً برای بخش‌های بسیار پایدار سیستم، مانند سیستم تخلیه ترافیک کاربران از یک دیتاسنتر، استفاده می‌شوند. مثلاً: «اگر یک دیتاسنتر تخلیه شده، برای latency آن هشدار نده» یک قانون رایج هشدار در دیتاسنتر است. تعداد کمی از تیم‌های گوگل سلسله‌مراتب وابستگی پیچیده را حفظ می‌کنند، زیرا زیرساخت ما به‌طور مداوم در حال **رفاکتورینگ** است.

برخی ایده‌های این فصل همچنان آرمانی هستند: همیشه جا برای حرکت سریع‌تر از **علائم** به **علت‌های ریشه‌ای** وجود دارد، به‌ویژه در سیستم‌های همیشه در حال تغییر. بنابراین، در حالی که این فصل اهدافی برای سیستم‌های مانیتورینگ تعیین می‌کند و راه‌هایی برای دستیابی به آن‌ها ارائه می‌دهد، مهم است که سیستم‌های مانیتورینگ—به‌ویژه مسیر بحرانی از شروع یک مشکل **production**، از طریق پیج به انسان، تا **تریاژ اولیه** و **دیباگینگ عمیق**—**ساده** و **قابل‌فهم** برای همه اعضای تیم نگه داشته شوند.

به‌طور مشابه، برای حفظ **نویز کم** و **سیگنال بالا**، عناصر سیستم مانیتورینگ که به **پیجر** هدایت می‌شوند باید بسیار ساده و مقاوم باشند. قوانینی که برای انسان‌ها هشدار تولید می‌کنند باید **قابل‌فهم** و نشان‌دهنده یک **خرابی واضح** باشند.